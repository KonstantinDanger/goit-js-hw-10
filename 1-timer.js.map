{"version":3,"file":"1-timer.js","sources":["../src/js/timeTextNormalizer.js","../src/js/timeConverter.js","../src/js/1-timer.js"],"sourcesContent":["export default function normalizeTimeText(time) {\n  const timeStr = time.toString();\n  return time < 10 ? timeStr.padStart('2', '0') : timeStr;\n}\n","export default function convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n","import 'izitoast/dist/css/iziToast.min.css';\nimport 'flatpickr/dist/flatpickr.min.css';\nimport normalizeTimeText from './timeTextNormalizer';\nimport flatpickr from 'flatpickr';\nimport convertTime from './timeConverter';\nimport iziToast from 'izitoast';\nimport iziToastOptions from './iziToastOptions';\n\nconst dateInput = document.querySelector('#datetime-picker');\nconst selectButton = document.querySelector('button');\n\nconst dataDays = document.querySelector('[data-days]');\nconst dataHours = document.querySelector('[data-hours]');\nconst dataMinutes = document.querySelector('[data-minutes]');\nconst dataSeconds = document.querySelector('[data-seconds]');\n\nlet userSelectedDate = null;\nselectButton.disabled = !userSelectedDate;\n\nconst updateTimerInterface = ({ seconds, minutes, hours, days }) => {\n  dataSeconds.textContent = normalizeTimeText(seconds);\n  dataMinutes.textContent = normalizeTimeText(minutes);\n  dataHours.textContent = normalizeTimeText(hours);\n  dataDays.textContent = normalizeTimeText(days);\n};\n\nconst startReadout = () => {\n  selectButton.disabled = true;\n  dateInput.disabled = true;\n\n  updateTimerInterface(convertTime(getRemainingTimeInMs()));\n\n  let invervalId = setInterval(() => {\n    let remainingTimeInMs = getRemainingTimeInMs();\n    let ramainingTimeObj = convertTime(remainingTimeInMs);\n\n    updateTimerInterface(ramainingTimeObj);\n\n    if (remainingTimeInMs <= 0) {\n      selectButton.disabled = false;\n      dateInput.disabled = false;\n      clearInterval(invervalId);\n    }\n  }, 1000);\n};\n\nconst getRemainingTimeInMs = () => {\n  let remainingTime = userSelectedDate - Date.now();\n  return remainingTime <= 0 ? 0 : remainingTime;\n};\n\nselectButton.addEventListener('click', startReadout);\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    let selectedDate = selectedDates[0];\n    let currentDate = new Date();\n    const selectedDateIsPastOrNow = selectedDate - currentDate <= 0;\n\n    if (selectedDateIsPastOrNow) {\n      selectButton.disabled = true;\n      iziToast.show(iziToastOptions);\n    } else {\n      selectButton.disabled = false;\n      userSelectedDate = selectedDate;\n    }\n  },\n};\n\nflatpickr(dateInput, options);\n"],"names":["normalizeTimeText","time","timeStr","convertMs","ms","days","hours","minutes","seconds","dateInput","selectButton","dataDays","dataHours","dataMinutes","dataSeconds","userSelectedDate","updateTimerInterface","startReadout","convertTime","getRemainingTimeInMs","invervalId","remainingTimeInMs","ramainingTimeObj","remainingTime","options","selectedDates","selectedDate","iziToast","iziToastOptions","flatpickr"],"mappings":"oJAAe,SAASA,EAAkBC,EAAM,CAC9C,MAAMC,EAAUD,EAAK,WACrB,OAAOA,EAAO,GAAKC,EAAQ,SAAS,IAAK,GAAG,EAAIA,CAClD,CCHe,SAASC,EAAUC,EAAI,CAQpC,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAE1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EAEpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EAEjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CCTA,MAAMC,EAAY,SAAS,cAAc,kBAAkB,EACrDC,EAAe,SAAS,cAAc,QAAQ,EAE9CC,EAAW,SAAS,cAAc,aAAa,EAC/CC,EAAY,SAAS,cAAc,cAAc,EACjDC,EAAc,SAAS,cAAc,gBAAgB,EACrDC,EAAc,SAAS,cAAc,gBAAgB,EAE3D,IAAIC,EAAmB,KACvBL,EAAa,SAAW,CAACK,EAEzB,MAAMC,EAAuB,CAAC,CAAE,QAAAR,EAAS,QAAAD,EAAS,MAAAD,EAAO,KAAAD,CAAI,IAAO,CAClES,EAAY,YAAcd,EAAkBQ,CAAO,EACnDK,EAAY,YAAcb,EAAkBO,CAAO,EACnDK,EAAU,YAAcZ,EAAkBM,CAAK,EAC/CK,EAAS,YAAcX,EAAkBK,CAAI,CAC/C,EAEMY,EAAe,IAAM,CACzBP,EAAa,SAAW,GACxBD,EAAU,SAAW,GAErBO,EAAqBE,EAAYC,EAAsB,CAAA,CAAC,EAExD,IAAIC,EAAa,YAAY,IAAM,CACjC,IAAIC,EAAoBF,IACpBG,EAAmBJ,EAAYG,CAAiB,EAEpDL,EAAqBM,CAAgB,EAEjCD,GAAqB,IACvBX,EAAa,SAAW,GACxBD,EAAU,SAAW,GACrB,cAAcW,CAAU,EAE3B,EAAE,GAAI,CACT,EAEMD,EAAuB,IAAM,CACjC,IAAII,EAAgBR,EAAmB,KAAK,IAAG,EAC/C,OAAOQ,GAAiB,EAAI,EAAIA,CAClC,EAEAb,EAAa,iBAAiB,QAASO,CAAY,EAEnD,MAAMO,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrB,IAAIC,EAAeD,EAAc,CAAC,EAEFC,EADd,IAAI,MACwC,GAG5DhB,EAAa,SAAW,GACxBiB,EAAS,KAAKC,CAAe,IAE7BlB,EAAa,SAAW,GACxBK,EAAmBW,EAEtB,CACH,EAEAG,EAAUpB,EAAWe,CAAO"}